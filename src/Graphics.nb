(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     40006,        943]
NotebookOptionsPosition[     38816,        918]
NotebookOutlinePosition[     39251,        935]
CellTagsIndexPosition[     39208,        932]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Physics 230 Project: BulletSim", "Title",
 CellChangeTimes->{{3.858207133956766*^9, 3.858207163182149*^9}, {
  3.8582071947057714`*^9, 
  3.8582072167502594`*^9}},ExpressionUUID->"fa4f4130-ff61-4e13-a456-\
3f5b24222716"],

Cell["Jonah Sundrud, Mitchell Hilbig, and Darian Comsa", "Subtitle",
 CellChangeTimes->{{3.85820717226035*^9, 
  3.858207204326026*^9}},ExpressionUUID->"17c1235b-3906-47fe-b1de-\
8b80fbff5b58"],

Cell[BoxData[
 RowBox[{"Clear", "[", "\"\<`*\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.8582070896962967`*^9, 3.858207092312795*^9}, {
  3.858818915334633*^9, 3.8588189334005103`*^9}, {3.858822127994043*^9, 
  3.8588221329448276`*^9}, {3.858823665574403*^9, 3.8588236729097047`*^9}, {
  3.8588904712959757`*^9, 3.858890472762558*^9}, {3.8588907059752464`*^9, 
  3.858890723381246*^9}, {3.8588912836302137`*^9, 3.8588912853797464`*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"221a16a5-2b2f-4672-b2d2-a625034f7bf6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"Get", " ", 
    RowBox[{"sprites", ":"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"SetDirectory", "[", 
     RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"targetsprite", "=", 
     RowBox[{"Import", "[", "\"\<Target.png\>\"", "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Animation", " ", 
     RowBox[{"stats", ":"}]}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"fps", "=", "24"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"frameT", "=", 
     RowBox[{"1", "/", "fps"}]}], " ", 
    RowBox[{"(*", " ", 
     RowBox[{
     "Amount", " ", "of", " ", "time", " ", "in", " ", "a", " ", "frame", " ",
       "in", " ", "seconds"}], " ", "*)"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"frameScale", ":=", "200"}], 
    RowBox[{"(*", 
     RowBox[{"TODO", ":", " ", 
      RowBox[{"Enable", " ", 
       RowBox[{"zoom", "."}]}]}], "*)"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"zoom", "=", 
     RowBox[{"Interval", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "frameScale"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "frameScale"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Projectile", " ", 
     RowBox[{"stats", ":"}]}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"density", ":=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"drag", ":=", ".15"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"radius", ":=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"mass", "/", "density"}], ")"}], "^", 
      RowBox[{"(", 
       RowBox[{"1", "/", "3"}], ")"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"bounce", ":=", ".8"}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Theta]", ":=", "inputangle"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"velocity", ":=", "inputvelocity"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"height", ":=", "inputheight"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"mass", ":=", "inputmass"}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"startx", ":=", "radius"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"starty", ":=", "height"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"startvx", ":=", 
     RowBox[{"velocity", "*", 
      RowBox[{"Cos", "[", "\[Theta]", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"startvy", ":=", 
     RowBox[{"velocity", "*", 
      RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], ";"}], "\[IndentingNewLine]",
    "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"targetxy", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "frameScale"}], ",", 
       RowBox[{"-", "frameScale"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"Variables", ":", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"x", "=", 
         RowBox[{"x", "-", "position"}]}], ",", " ", 
        RowBox[{"y", "=", 
         RowBox[{"y", "-", "position"}]}]}], "}"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"vx", "=", 
        RowBox[{"x", "-", "velocity"}]}], ",", " ", 
       RowBox[{"vy", "=", 
        RowBox[{"y", "-", "velocity"}]}]}], "}"}]}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Functions", ":"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"g", "=", "9.8"}], " ", 
    RowBox[{"(*", " ", 
     RowBox[{"Effect", " ", "of", " ", "gravity", " ", "in", " ", 
      RowBox[{"m", "/", 
       RowBox[{"s", "^", "2"}]}]}], " ", "*)"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Vt", ":=", 
     RowBox[{
      RowBox[{"m", "*", 
       RowBox[{"g", "/", "c"}]}], "/.", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"m", "\[Rule]", "mass"}], ",", 
        RowBox[{"c", "\[Rule]", "drag"}]}], "}"}]}]}], ";", 
    RowBox[{"(*", " ", 
     RowBox[{
     "Terminal", " ", "velocity", " ", "using", " ", "mass", " ", "in", " ", 
      RowBox[{"kg", ".", " ", "c"}], " ", "is", " ", "a", " ", "constant", 
      " ", "for", " ", "air", " ", 
      RowBox[{"resistance", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
    RowBox[{"PositionX", "=", 
     RowBox[{"Integrate", "[", 
      RowBox[{
       RowBox[{"xVel", "*", 
        RowBox[{"Exp", "[", 
         RowBox[{
          RowBox[{"-", "g"}], "*", 
          RowBox[{"t", "/", "Vt"}]}], "]"}]}], ",", "t"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"PositionY", "=", 
     RowBox[{"Integrate", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"yVel", "*", 
         RowBox[{"Exp", "[", 
          RowBox[{
           RowBox[{"-", "g"}], "*", 
           RowBox[{"t", "/", "Vt"}]}], "]"}]}], "-", 
        RowBox[{"Vt", 
         RowBox[{"(", 
          RowBox[{"1", "-", 
           RowBox[{"Exp", "[", 
            RowBox[{
             RowBox[{"-", "g"}], "*", 
             RowBox[{"t", "/", "Vt"}]}], "]"}]}], ")"}]}]}], ",", "t"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"jonahsFunctionForX", "[", 
     RowBox[{"x_", ",", "y_", ",", "vx_", ",", "vy_"}], "]"}], ":=", 
    RowBox[{"x", "+", 
     RowBox[{"(", 
      RowBox[{"PositionX", "/.", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"t", "\[Rule]", "frameT"}], ",", 
         RowBox[{"xVel", "\[Rule]", "vx"}]}], "}"}]}], ")"}], "-", 
     RowBox[{"(", 
      RowBox[{"PositionX", "/.", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"t", "\[Rule]", "0"}], ",", 
         RowBox[{"xVel", "\[Rule]", "vx"}]}], "}"}]}], ")"}]}]}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"jonahsFunctionForY", "[", 
     RowBox[{"x_", ",", "y_", ",", "vx_", ",", "vy_"}], "]"}], ":=", 
    RowBox[{"y", "+", 
     RowBox[{"(", 
      RowBox[{"PositionY", "/.", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"t", "\[Rule]", "frameT"}], ",", 
         RowBox[{"yVel", "\[Rule]", "vy"}]}], "}"}]}], ")"}], "-", 
     RowBox[{"(", 
      RowBox[{"PositionY", "/.", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"t", "\[Rule]", "0"}], ",", 
         RowBox[{"yVel", "\[Rule]", "vy"}]}], "}"}]}], ")"}]}]}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"jonahsFunctionForVx", "[", 
     RowBox[{"x_", ",", "y_", ",", "vx_", ",", "vy_"}], "]"}], ":=", 
    RowBox[{"vx", "*", 
     RowBox[{"Exp", "[", 
      RowBox[{
       RowBox[{"-", "g"}], "*", 
       RowBox[{"frameT", "/", "Vt"}]}], "]"}]}]}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"jonahsFunctionForVy", "[", 
     RowBox[{"x_", ",", "y_", ",", "vx_", ",", "vy_"}], "]"}], ":=", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"vy", "*", 
      RowBox[{"Exp", "[", 
       RowBox[{
        RowBox[{"-", "g"}], "*", 
        RowBox[{"frameT", "/", "Vt"}]}], "]"}]}], "-", 
     RowBox[{"Vt", 
      RowBox[{"(", 
       RowBox[{"1", "-", 
        RowBox[{"Exp", "[", 
         RowBox[{
          RowBox[{"-", "g"}], "*", 
          RowBox[{"frameT", "/", "Vt"}]}], "]"}]}], ")"}]}]}]}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"testEnd", "[", 
     RowBox[{"x_", ",", "y_", ",", "vx_", ",", "vy_"}], "]"}], ":=", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"y", ">", "0"}], ",", "True", ",", "False"}], "]"}]}], 
   "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.8582059318866997`*^9, 3.858206015378581*^9}, {
   3.8582060682345176`*^9, 3.858206076776741*^9}, {3.858206125188794*^9, 
   3.8582061284946575`*^9}, {3.8582072423605347`*^9, 3.858207354025297*^9}, {
   3.858207411522565*^9, 3.8582074686936455`*^9}, {3.8582075047234516`*^9, 
   3.858207510395253*^9}, 3.858207564649482*^9, {3.8583677491807995`*^9, 
   3.8583678223163958`*^9}, {3.8583678698562984`*^9, 
   3.8583678883139997`*^9}, {3.858367938244343*^9, 3.858367964216172*^9}, {
   3.8583693554830327`*^9, 3.85836936352925*^9}, {3.8583693965259595`*^9, 
   3.8583693968697276`*^9}, {3.858370651888762*^9, 3.8583706793544817`*^9}, {
   3.8583707174820423`*^9, 3.8583707223408947`*^9}, {3.858370780937235*^9, 
   3.8583707826448193`*^9}, {3.8583708941976414`*^9, 3.85837094316428*^9}, {
   3.8583710195775204`*^9, 3.858371023335236*^9}, {3.858372719854449*^9, 
   3.858372720174245*^9}, {3.8583727515239377`*^9, 3.8583728228934307`*^9}, {
   3.85837377475339*^9, 3.858373987166481*^9}, 3.8583742567167807`*^9, {
   3.858374341873391*^9, 3.858374361854478*^9}, {3.8583746919907866`*^9, 
   3.858374740616707*^9}, {3.8583747887114735`*^9, 3.8583748262454233`*^9}, {
   3.8583748705909786`*^9, 3.8583748864264727`*^9}, {3.8583749180749235`*^9, 
   3.8583749357510386`*^9}, {3.8583750157189054`*^9, 
   3.8583750390889997`*^9}, {3.8584281636326323`*^9, 
   3.8584281935773315`*^9}, {3.8584282259612184`*^9, 
   3.8584283505227137`*^9}, {3.8584283870746927`*^9, 
   3.8584284162242937`*^9}, {3.858428471357561*^9, 3.85842851829358*^9}, {
   3.858429731739577*^9, 3.858429740801889*^9}, {3.8584304198592014`*^9, 
   3.8584304214260845`*^9}, {3.8584304949224043`*^9, 
   3.8584305066302423`*^9}, {3.8584306081275015`*^9, 
   3.8584306346612644`*^9}, {3.858430688213254*^9, 3.8584307607226205`*^9}, {
   3.8584308110530252`*^9, 3.858430915103775*^9}, {3.8584310387867947`*^9, 
   3.8584311002211723`*^9}, {3.8584311684892483`*^9, 
   3.8584311935154247`*^9}, {3.858431223563093*^9, 3.858431225771858*^9}, {
   3.858431297531434*^9, 3.8584313515087953`*^9}, {3.8584314076961813`*^9, 
   3.8584315264115705`*^9}, {3.858431605891302*^9, 3.858431652220917*^9}, {
   3.8584316918039107`*^9, 3.858431695335894*^9}, {3.8584317824602213`*^9, 
   3.8584317825792065`*^9}, {3.8584318236662035`*^9, 3.858431956082419*^9}, {
   3.858431991845502*^9, 3.858432011947798*^9}, {3.8584322713105607`*^9, 
   3.858432358823919*^9}, {3.858432422257346*^9, 3.8584325216592765`*^9}, {
   3.858432580620381*^9, 3.858432602708372*^9}, {3.8584326382070827`*^9, 
   3.8584326707006226`*^9}, {3.8584327083457985`*^9, 3.858432732758385*^9}, {
   3.8584327870854654`*^9, 3.8584327958209066`*^9}, {3.858505580392779*^9, 
   3.8585055955111103`*^9}, {3.858509862053542*^9, 3.8585098731852493`*^9}, {
   3.858509919923197*^9, 3.8585099635711308`*^9}, {3.858510040938637*^9, 
   3.8585100425710363`*^9}, {3.858510514568714*^9, 3.858510516014735*^9}, {
   3.8585109508860316`*^9, 3.8585109562252455`*^9}, {3.858511656451225*^9, 
   3.8585117953293915`*^9}, {3.8585119110741625`*^9, 
   3.8585119112272778`*^9}, {3.858511960313409*^9, 3.858512272721633*^9}, {
   3.858512836618189*^9, 3.858512896209797*^9}, {3.858512929000085*^9, 
   3.8585129707175455`*^9}, {3.8585130144636774`*^9, 3.858513098039693*^9}, {
   3.858513145740431*^9, 3.858513178714595*^9}, {3.8585132478560996`*^9, 
   3.858513249629275*^9}, {3.8585133132079744`*^9, 3.858513426657662*^9}, {
   3.8585134858541384`*^9, 3.858513490694559*^9}, {3.858513606050132*^9, 
   3.858513677009532*^9}, {3.858513717533043*^9, 3.8585137175570474`*^9}, {
   3.858513785240757*^9, 3.858513786979206*^9}, {3.8585138855685835`*^9, 
   3.8585139490496993`*^9}, {3.8585141049941607`*^9, 
   3.8585141345770397`*^9}, {3.8585141686750565`*^9, 3.85851416965316*^9}, {
   3.8585142028542027`*^9, 3.858514270400578*^9}, 3.8585143029129915`*^9, {
   3.8585143518802013`*^9, 3.8585143999956656`*^9}, 3.858514447144434*^9, {
   3.8585145263648243`*^9, 3.858514536593585*^9}, {3.858514863562773*^9, 
   3.8585148967895174`*^9}, {3.8585155158690495`*^9, 
   3.8585155561459556`*^9}, {3.8585157085235577`*^9, 3.8585157308113003`*^9}, 
   3.8585169205397615`*^9, {3.8587891541280856`*^9, 3.8587891654503856`*^9}, {
   3.8587892623722606`*^9, 3.8587893618217697`*^9}, {3.858790486657031*^9, 
   3.8587905943987465`*^9}, {3.858790647374435*^9, 3.858790659974554*^9}, {
   3.8587907449990253`*^9, 3.8587907462824717`*^9}, {3.8588197547263165`*^9, 
   3.8588197674885144`*^9}, {3.8588198335494013`*^9, 
   3.8588198625346527`*^9}, {3.858821003643182*^9, 3.8588210885941453`*^9}, {
   3.858821120963315*^9, 3.85882112373707*^9}, {3.8588222164631343`*^9, 
   3.858822257024787*^9}, {3.8588223391307154`*^9, 3.858822406134794*^9}, {
   3.8588224457553654`*^9, 3.8588224459857235`*^9}, 3.8588227698650694`*^9, {
   3.8588228912901382`*^9, 3.8588228920623255`*^9}, {3.8588230908016186`*^9, 
   3.8588231278428636`*^9}, {3.8588234118784227`*^9, 3.858823412336607*^9}, {
   3.858823675516632*^9, 3.8588237110127735`*^9}, {3.8588237525733705`*^9, 
   3.858823773614792*^9}, {3.8588937063749714`*^9, 3.858893707344227*^9}, {
   3.8588938204385223`*^9, 3.8588938370527143`*^9}, {3.858895420775148*^9, 
   3.8588954445708203`*^9}},
 CellLabel->
  "In[117]:=",ExpressionUUID->"c9f097ed-017c-48d5-a517-c5406896bf61"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"Coordinate", " ", "system", " ", 
     RowBox[{"{", 
      RowBox[{"x", ",", "0", ",", "100"}], "}"}]}], ",", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"y", ",", "0", ",", "100"}], "}"}], "."}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"NextXY", "[", 
     RowBox[{"xy_List", ",", "v_List"}], "]"}], ":=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"jonahsFunctionForX", "[", 
       RowBox[{
        RowBox[{"xy", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"xy", "[", 
         RowBox[{"[", "2", "]"}], "]"}], ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], "]"}], ",", 
      RowBox[{"jonahsFunctionForY", "[", 
       RowBox[{
        RowBox[{"xy", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"xy", "[", 
         RowBox[{"[", "2", "]"}], "]"}], ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], "]"}]}], "}"}]}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NextV", "[", 
     RowBox[{"xy_List", ",", "v_List"}], "]"}], ":=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"jonahsFunctionForVx", "[", 
       RowBox[{
        RowBox[{"xy", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"xy", "[", 
         RowBox[{"[", "2", "]"}], "]"}], ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], "]"}], ",", 
      RowBox[{"jonahsFunctionForVy", "[", 
       RowBox[{
        RowBox[{"xy", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"xy", "[", 
         RowBox[{"[", "2", "]"}], "]"}], ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], "]"}]}], "}"}]}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NextXYV", "[", 
     RowBox[{"xy_List", ",", "v_List"}], "]"}], ":=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"NextXY", "[", 
       RowBox[{"xy", ",", "v"}], "]"}], ",", 
      RowBox[{"NextV", "[", 
       RowBox[{"xy", ",", "v"}], "]"}]}], "}"}]}], 
   "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.8583742591844378`*^9, 3.8583742604541817`*^9}, {
   3.858509990406577*^9, 3.85851001346024*^9}, {3.8585100624461837`*^9, 
   3.8585100633620405`*^9}, {3.858510306721147*^9, 3.8585103237177124`*^9}, {
   3.85851323918956*^9, 3.8585132458245463`*^9}, 3.8585168217176385`*^9},
 CellLabel->"In[29]:=",ExpressionUUID->"0b752553-d195-4532-9c3a-ee0bc62fb435"],

Cell[BoxData[
 RowBox[{"bulletSim", ":=", "\[IndentingNewLine]", 
  RowBox[{"DynamicModule", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"task", ",", 
      RowBox[{"xy", "=", 
       RowBox[{"{", 
        RowBox[{"startx", ",", "starty"}], "}"}]}], ",", 
      RowBox[{"v", "=", 
       RowBox[{"{", 
        RowBox[{"startvx", ",", "startvy"}], "}"}]}], ",", 
      RowBox[{"contents", "=", 
       RowBox[{"{", "}"}]}]}], "}"}], ",", 
    RowBox[{"Column", "[", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Framed", "@", 
        RowBox[{"EventHandler", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Graphics", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"PointSize", "[", 
               RowBox[{"Max", "[", 
                RowBox[{
                 RowBox[{"radius", "/", "frameScale"}], ",", ".01"}], "]"}], 
               "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"Point", "[", 
               RowBox[{"Dynamic", "[", 
                RowBox[{"Map", "[", 
                 RowBox[{"First", ",", "contents"}], "]"}], "]"}], "]"}], ",",
               "\[IndentingNewLine]", 
              RowBox[{"Inset", "[", 
               RowBox[{"targetsprite", ",", 
                RowBox[{"Dynamic", "[", "targetxy", "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"16", ",", "16"}], "}"}], ",", 
                RowBox[{"frameScale", "/", "10"}]}], "]"}]}], 
             "\[IndentingNewLine]", "}"}], ",", 
            RowBox[{"PlotRange", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "frameScale"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"0", ",", "frameScale"}], "}"}]}], "}"}]}], ",", 
            RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], ",", 
          RowBox[{"\"\<MouseDown\>\"", "\[RuleDelayed]", 
           RowBox[{"(", 
            RowBox[{"targetxy", "=", 
             RowBox[{"MousePosition", "[", "\"\<Graphics\>\"", "]"}]}], 
            ")"}]}]}], "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"Button", "[", 
        RowBox[{"\"\<Fire\>\"", ",", 
         RowBox[{"(", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"contents", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "height"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"startvx", ",", "startvy"}], "}"}]}], "}"}]}], "]"}], 
          ")"}]}], "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"Button", "[", 
        RowBox[{"\"\<Reset\>\"", ",", 
         RowBox[{"contents", "=", 
          RowBox[{"{", "}"}]}]}], "]"}]}], "\[IndentingNewLine]", "}"}], 
     "]"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Initialization", "\[RuleDelayed]", 
     RowBox[{"(", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"task", "=", 
        RowBox[{"CreateScheduledTask", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"contents", "=", "\[IndentingNewLine]", 
            RowBox[{"Map", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"#", "[", 
                   RowBox[{"[", 
                    RowBox[{"1", ",", "2"}], "]"}], "]"}], "\[GreaterEqual]", 
                  "0"}], ",", "\[IndentingNewLine]", 
                 RowBox[{"NextXYV", "[", 
                  RowBox[{
                   RowBox[{"#", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                   RowBox[{"#", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}], "]"}], ",", 
                 "\[IndentingNewLine]", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"#", "[", 
                    RowBox[{"[", 
                    RowBox[{"1", ",", "1"}], "]"}], "]"}], ",", "0"}], "}"}], 
                   ",", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", 
                    RowBox[{"-", "bounce"}]}], "}"}], 
                    RowBox[{"#", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}]}], "]"}], "&"}],
               ",", "\[IndentingNewLine]", "contents"}], "]"}]}], ";"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{"taskRate", "="}], "*)"}], 
          RowBox[{"1.", "/", "fps"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"StartScheduledTask", "[", "task", "]"}], ";"}], ")"}]}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{
  3.8585168287645407`*^9, {3.8588186685498934`*^9, 3.8588187497644567`*^9}, {
   3.858818804081752*^9, 3.8588188669197536`*^9}, {3.8588189514366045`*^9, 
   3.8588189736579075`*^9}, {3.8588198783521385`*^9, 
   3.8588198913536515`*^9}, {3.858820188294099*^9, 3.8588201932820034`*^9}, {
   3.858820749336152*^9, 3.8588207497065244`*^9}, {3.85882082931219*^9, 
   3.8588208457779007`*^9}, {3.858820925122657*^9, 3.8588209387677855`*^9}, {
   3.858822789876629*^9, 3.858822852142647*^9}, {3.858823766535738*^9, 
   3.858823786394062*^9}, {3.858823825979847*^9, 3.8588238759409866`*^9}, {
   3.858823934193425*^9, 3.8588240119102464`*^9}, {3.8588240436060038`*^9, 
   3.858824052224008*^9}, {3.8588241647114*^9, 3.858824180396386*^9}, {
   3.8588242303741665`*^9, 3.858824251686101*^9}, {3.858824284697592*^9, 
   3.8588242852298355`*^9}, {3.8588243229836836`*^9, 
   3.8588243402624598`*^9}, {3.8588248681642714`*^9, 
   3.8588248991294503`*^9}, {3.858891619620468*^9, 3.8588916214220314`*^9}, {
   3.8588917516199265`*^9, 3.8588917915438623`*^9}, {3.858891867956181*^9, 
   3.8588918835824347`*^9}, {3.858891974136383*^9, 3.858891977899386*^9}, {
   3.8588920122618804`*^9, 3.858892023555204*^9}, {3.8588938318196516`*^9, 
   3.858893833018711*^9}},
 CellLabel->"In[32]:=",ExpressionUUID->"76b25247-c715-4bf4-a791-b753000dc6ca"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "The", " ", "algorithm", " ", "for", " ", "honing", " ", "in", " ", "on", 
    " ", "a", " ", "given", " ", 
    RowBox[{"target", ".", " ", "This"}], " ", "assumes", " ", "no", " ", 
    RowBox[{"bouncing", ".", " ", "For"}], " ", "simplicity", " ", "only", 
    " ", "an", " ", "x", " ", "velocity", " ", "need", " ", "be", " ", 
    RowBox[{"generated", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"Solve", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"startX", "+", 
        RowBox[{"Integrate", "[", 
         RowBox[{
          RowBox[{"xVel", "*", 
           RowBox[{"Exp", "[", 
            RowBox[{
             RowBox[{"-", "grav"}], "*", 
             RowBox[{"t", "/", "term"}]}], "]"}]}], ",", "t"}], "]"}]}], 
       "\[Equal]", "endX"}], ",", "xVel"}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Solve", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"startY", "+", 
        RowBox[{"Integrate", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"yVel", "*", 
            RowBox[{"Exp", "[", 
             RowBox[{
              RowBox[{"-", "grav"}], "*", 
              RowBox[{"t", "/", "term"}]}], "]"}]}], "-", 
           RowBox[{"term", 
            RowBox[{"(", 
             RowBox[{"1", "-", 
              RowBox[{"Exp", "[", 
               RowBox[{
                RowBox[{"-", "grav"}], "*", 
                RowBox[{"t", "/", "term"}]}], "]"}]}], ")"}]}]}], ",", "t"}], 
         "]"}]}], "\[Equal]", "endY"}], ",", "yVel"}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"DropTime", "[", 
     RowBox[{"targetY_", ",", "startingY_"}], "]"}], " ", ":=", 
    RowBox[{"Vt", "*", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"ArcCosh", "[", 
        RowBox[{"Exp", "[", 
         RowBox[{
          RowBox[{"-", "g"}], 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"targetY", "-", "startingY"}], ")"}], "/", 
           RowBox[{"Vt", "^", "2"}]}]}], "]"}], "]"}], ")"}], "/", "g"}]}]}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"requiredVelocity", "[", 
     RowBox[{
     "targetX_", ",", "targetY_", ",", "startingX_", ",", "startingY_"}], 
     "]"}], ":=", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"time", "=", 
         RowBox[{"DropTime", "[", 
          RowBox[{"targetY", ",", "startingY"}], "]"}]}], ",", "xVel", ",", 
        "yVel"}], "}"}], ",", 
      RowBox[{
       RowBox[{"xVel", "=", 
        RowBox[{
         RowBox[{"Exp", "[", 
          RowBox[{"g", "*", 
           RowBox[{"time", "/", "Vt"}]}], "]"}], "*", "g", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"targetX", "-", "startingX"}], ")"}], "/", "Vt"}]}]}], ";", 
       RowBox[{"yVel", "=", 
        RowBox[{
         RowBox[{"g", "*", 
          RowBox[{"Exp", "[", 
           RowBox[{"g", "*", 
            RowBox[{"time", "/", "Vt"}]}], "]"}], 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"time", "*", "Vt"}], "+", "startingY", "-", "targetY"}], 
            ")"}], "/", "Vt"}]}], "-", "Vt"}]}], ";", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Sqrt", "[", 
          RowBox[{
           RowBox[{"xVel", "^", "2"}], "+", 
           RowBox[{"yVel", "^", "2"}]}], "]"}], ",", 
         RowBox[{"ArcTan", "[", 
          RowBox[{"yVel", "/", "xVel"}], "]"}]}], "}"}]}]}], "]"}]}], 
   "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.8587872523389883`*^9, 3.8587872534141912`*^9}, {
   3.858787617400693*^9, 3.858787628181195*^9}, {3.858787727074239*^9, 
   3.8587877830860233`*^9}, {3.858788437405927*^9, 3.8587884656553917`*^9}, {
   3.858788859770801*^9, 3.8587888777544584`*^9}, {3.858788977960396*^9, 
   3.858789018221838*^9}, {3.858790752422121*^9, 3.858790848215397*^9}, {
   3.8587913175763817`*^9, 3.858791318682067*^9}, 3.8587913823294134`*^9, {
   3.858791413063656*^9, 3.8587914291929846`*^9}, 3.858791920440934*^9, {
   3.858791960568799*^9, 3.8587921507816725`*^9}, {3.8587921997407045`*^9, 
   3.8587922152185593`*^9}, {3.8587924888995633`*^9, 
   3.8587924955476723`*^9}, {3.858792538203483*^9, 3.858792538432456*^9}, {
   3.8587925912180953`*^9, 3.8587927289505816`*^9}, {3.8587927765888476`*^9, 
   3.8587927809502106`*^9}, {3.8587928267020445`*^9, 
   3.8587929038704777`*^9}, {3.8587948185489597`*^9, 3.858794954296405*^9}, {
   3.8587950262481976`*^9, 3.85879503086874*^9}, 3.8588937755856504`*^9, {
   3.8588939733217335`*^9, 3.8588939971503487`*^9}, {3.858894098259782*^9, 
   3.858894162225647*^9}, {3.8588942393586473`*^9, 3.8588942399435496`*^9}, {
   3.8588943936142397`*^9, 3.85889442531802*^9}, {3.858894508512145*^9, 
   3.8588945326292453`*^9}},
 CellLabel->"In[33]:=",ExpressionUUID->"d1e26d9e-3dfc-44d0-bef4-91b0ddc11619"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"terrainGraphics", "=", 
    RowBox[{"Graphics", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"RGBColor", "[", 
        RowBox[{".5", ",", ".85", ",", "1"}], "]"}], ",", 
       RowBox[{"Rectangle", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"100", ",", "100"}], "}"}]}], "]"}]}], "}"}], "]"}]}], ";", 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"bulletGraphics", ":=", 
    RowBox[{
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"xy0", "=", 
          RowBox[{"{", 
           RowBox[{"startx", ",", "starty"}], "}"}]}], ",", "xy1", ",", 
         RowBox[{"v0", "=", 
          RowBox[{"{", 
           RowBox[{"startvx", ",", "startvy"}], "}"}]}], ",", "v1"}], "}"}], 
       ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Reap", "[", "\[IndentingNewLine]", 
         RowBox[{"While", "[", 
          RowBox[{
           RowBox[{"testEnd", "[", 
            RowBox[{
             RowBox[{"xy0", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ",", 
             RowBox[{"xy0", "[", 
              RowBox[{"[", "2", "]"}], "]"}], ",", 
             RowBox[{"v0", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ",", 
             RowBox[{"v0", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], "]"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"{", 
              RowBox[{"xy1", ",", "v1"}], "}"}], "=", 
             RowBox[{"NextXYV", "[", 
              RowBox[{"xy0", ",", "v0"}], "]"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"Sow", "[", 
             RowBox[{"Graphics", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"Black", ",", 
                 RowBox[{"Disk", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"xy1", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    RowBox[{"xy1", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", "1"}], 
                  "]"}]}], "}"}], ",", 
               RowBox[{"PlotRange", "->", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"0", ",", "100"}], "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"0", ",", "100"}], "}"}]}], "}"}]}]}], "]"}], 
             "]"}], ";", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"xy0", ",", "v0"}], "}"}], "=", 
             RowBox[{"{", 
              RowBox[{"xy1", ",", "v1"}], "}"}]}], ";"}]}], 
          "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", "]"}], "[", 
        RowBox[{"[", 
         RowBox[{"2", ",", "1"}], "]"}], "]"}]}], "\[IndentingNewLine]", 
      "]"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"ListAnimate", "[", 
      RowBox[{"bulletGraphics", ",", 
       RowBox[{"fps", "=", 
        RowBox[{"1", "/", "frameT"}]}]}], "]"}]}]}]}], "\[IndentingNewLine]", 
  "*)"}]], "Input",
 CellChangeTimes->{{3.858204022794071*^9, 3.8582040956888638`*^9}, {
   3.858204253041006*^9, 3.85820426462668*^9}, {3.858204338919372*^9, 
   3.8582043572047687`*^9}, {3.858204390006424*^9, 3.85820439698874*^9}, {
   3.8582045826857986`*^9, 3.858204715870901*^9}, {3.8582047476726694`*^9, 
   3.858204771360838*^9}, {3.85820482548317*^9, 3.8582048833432493`*^9}, {
   3.8582056561232734`*^9, 3.85820571948277*^9}, {3.858206282684664*^9, 
   3.8582062892192554`*^9}, {3.858206399651326*^9, 3.8582064118029256`*^9}, {
   3.858206979972757*^9, 3.8582070145228577`*^9}, {3.8582070571195135`*^9, 
   3.85820707651731*^9}, {3.8582074779279547`*^9, 3.8582074902849646`*^9}, {
   3.858367128973284*^9, 3.858367141462253*^9}, {3.858370033413396*^9, 
   3.85837006144886*^9}, {3.8583701004779077`*^9, 3.8583701820225997`*^9}, {
   3.8583705777421846`*^9, 3.8583705791401176`*^9}, {3.8583707096213756`*^9, 
   3.8583707987735133`*^9}, {3.858370910412628*^9, 3.8583709214521923`*^9}, {
   3.8583709579028826`*^9, 3.8583709633509073`*^9}, {3.8583711817208443`*^9, 
   3.858371193610668*^9}, 3.8583713458249164`*^9, {3.858371419949988*^9, 
   3.8583714297954435`*^9}, {3.8583716765898805`*^9, 3.858371683725607*^9}, {
   3.858371733211196*^9, 3.8583717339620247`*^9}, {3.858371779003755*^9, 
   3.8583717900798035`*^9}, {3.858372182747368*^9, 3.8583721906148777`*^9}, {
   3.8583722479877815`*^9, 3.8583724644799356`*^9}, {3.8583725125080833`*^9, 
   3.858372554018015*^9}, {3.858372589023937*^9, 3.8583727067498713`*^9}, {
   3.858373997621389*^9, 3.8583742143565717`*^9}, {3.8583742527690954`*^9, 
   3.858374253803146*^9}, {3.8583744200110564`*^9, 3.858374547706339*^9}, {
   3.858374634582861*^9, 3.858374685215395*^9}, {3.8583747451854167`*^9, 
   3.858374769248746*^9}, {3.858374858916848*^9, 3.8583748655554442`*^9}, 
   3.85837490196423*^9, {3.858374942761856*^9, 3.8583749470089827`*^9}, {
   3.858431744340681*^9, 3.858431746975345*^9}, {3.8585100181029873`*^9, 
   3.8585100274947395`*^9}, 3.8585103135607367`*^9, {3.8585140880187035`*^9, 
   3.858514090174704*^9}, {3.8585159029464293`*^9, 3.8585159115468407`*^9}, {
   3.8587871929298477`*^9, 3.858787195757572*^9}},
 CellLabel->"In[37]:=",ExpressionUUID->"ccbbb1e1-bcbd-40da-8964-e436f3c2eef9"],

Cell[BoxData[
 RowBox[{"(*", "\[IndentingNewLine]", 
  RowBox[{"bulletSim", ":=", "\[IndentingNewLine]", 
   RowBox[{"DynamicModule", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"task", ",", 
       RowBox[{"xy", "=", 
        RowBox[{"{", 
         RowBox[{"startx", ",", "starty"}], "}"}]}], ",", 
       RowBox[{"v", "=", 
        RowBox[{"{", 
         RowBox[{"startvx", ",", "startvy"}], "}"}]}], ",", 
       RowBox[{"contents", "=", 
        RowBox[{"{", "}"}]}]}], "}"}], ",", 
     RowBox[{"Column", "[", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Framed", "@", 
         RowBox[{"EventHandler", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Graphics", "[", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"PointSize", "[", 
                RowBox[{"Max", "[", 
                 RowBox[{
                  RowBox[{"radius", "/", "frameScale"}], ",", ".01"}], "]"}], 
                "]"}], ",", "\[IndentingNewLine]", 
               RowBox[{"Point", "[", 
                RowBox[{"Dynamic", "[", 
                 RowBox[{"Map", "[", 
                  RowBox[{"First", ",", "contents"}], "]"}], "]"}], "]"}]}], 
              "}"}], ",", 
             RowBox[{"PlotRange", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", "frameScale"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "frameScale"}], "}"}]}], "}"}]}], ",", 
             RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
           RowBox[{"\"\<MouseDown\>\"", "\[RuleDelayed]", 
            RowBox[{"(", 
             RowBox[{"AppendTo", "[", 
              RowBox[{"contents", ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"MousePosition", "[", "\"\<Graphics\>\"", "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"startvx", ",", "startvy"}], "}"}]}], "}"}]}], 
              "]"}], ")"}]}]}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"Button", "[", 
         RowBox[{"\"\<Reset\>\"", ",", 
          RowBox[{"contents", "=", 
           RowBox[{"{", "}"}]}]}], "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Button", "[", 
         RowBox[{"\"\<Fire\>\"", ",", 
          RowBox[{"(", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"contents", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "height"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"startvx", ",", "startvy"}], "}"}]}], "}"}]}], "]"}], 
           ")"}]}], "]"}]}], "\[IndentingNewLine]", "}"}], "]"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"Initialization", "\[RuleDelayed]", 
      RowBox[{"(", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"task", "=", 
         RowBox[{"CreateScheduledTask", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"contents", "=", "\[IndentingNewLine]", 
             RowBox[{"Map", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"#", "[", 
                    RowBox[{"[", 
                    RowBox[{"1", ",", "2"}], "]"}], "]"}], "\[GreaterEqual]", 
                   "0"}], ",", "\[IndentingNewLine]", 
                  RowBox[{"NextXYV", "[", 
                   RowBox[{
                    RowBox[{"#", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    RowBox[{"#", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}], "]"}], ",", 
                  "\[IndentingNewLine]", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"#", "[", 
                    RowBox[{"[", 
                    RowBox[{"1", ",", "1"}], "]"}], "]"}], ",", "0"}], "}"}], 
                    ",", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", 
                    RowBox[{"-", "bounce"}]}], "}"}], 
                    RowBox[{"#", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}]}], "]"}], "&"}],
                ",", "\[IndentingNewLine]", "contents"}], "]"}]}], ";"}], ",",
            "\[IndentingNewLine]", 
           RowBox[{"(*", 
            RowBox[{"taskRate", "="}], "*)"}], 
           RowBox[{"1.", "/", "fps"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"StartScheduledTask", "[", "task", "]"}], ";"}], ")"}]}]}], 
    "]"}]}], "\[IndentingNewLine]", "*)"}]], "Input",
 CellChangeTimes->{{3.858823807328371*^9, 3.8588238089823203`*^9}},
 CellLabel->"In[38]:=",ExpressionUUID->"ad4fce09-6898-41a4-8f59-edecdc30c01a"]
}, Open  ]]
},
WindowSize->{718.5, 741.},
WindowMargins->{{Automatic, -5.25}, {Automatic, 0}},
Magnification:>1. Inherited,
FrontEndVersion->"13.0 for Microsoft Windows (64-bit) (December 2, 2021)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"630923aa-63f7-4495-b3e8-7a91c3fbffc5"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 226, 4, 98, "Title",ExpressionUUID->"fa4f4130-ff61-4e13-a456-3f5b24222716"],
Cell[809, 28, 193, 3, 53, "Subtitle",ExpressionUUID->"17c1235b-3906-47fe-b1de-8b80fbff5b58"],
Cell[1005, 33, 515, 7, 28, "Input",ExpressionUUID->"221a16a5-2b2f-4672-b2d2-a625034f7bf6"],
Cell[1523, 42, 13028, 295, 960, "Input",ExpressionUUID->"c9f097ed-017c-48d5-a517-c5406896bf61"],
Cell[14554, 339, 2794, 78, 162, "Input",ExpressionUUID->"0b752553-d195-4532-9c3a-ee0bc62fb435"],
Cell[17351, 419, 6102, 136, 409, "Input",ExpressionUUID->"76b25247-c715-4bf4-a791-b753000dc6ca"],
Cell[23456, 557, 4924, 122, 295, "Input",ExpressionUUID->"d1e26d9e-3dfc-44d0-bef4-91b0ddc11619"],
Cell[28383, 681, 5493, 115, 295, "Input",ExpressionUUID->"ccbbb1e1-bcbd-40da-8964-e436f3c2eef9"],
Cell[33879, 798, 4921, 117, 428, "Input",ExpressionUUID->"ad4fce09-6898-41a4-8f59-edecdc30c01a"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)

